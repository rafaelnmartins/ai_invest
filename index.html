<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dicas AI Investimentos para familia e amigos</title>
  <meta name="description" content="Site com dicas, gr√°fico TradingView, alertas embutidos e minhas posi√ß√µes com P/L %." />
  <link rel="preconnect" href="https://s3.tradingview.com" crossorigin>
  <style>
    :root{ --bg:#f8fafc; --panel:#ffffff; --ink:#0f172a; --muted:#475569; --acc:#0ea5e9; }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial,'Noto Sans',sans-serif;background:var(--bg);color:var(--ink)}
    a{color:var(--acc);text-decoration:none}
    .wrap{max-width:1150px;margin:0 auto;padding:28px}
    header{display:flex;gap:20px;align-items:center;justify-content:space-between;margin-bottom:22px}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:40px;height:40px;border-radius:10px;background:conic-gradient(from 210deg,#22d3ee,#6366f1,#22d3ee);box-shadow:0 6px 20px rgba(34,211,238,.25)}
    h1{font-size:clamp(18px,3.2vw,26px);margin:0}
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:16px}
    .card{background:var(--panel);border:1px solid rgba(0,0,0,.1);border-radius:16px;padding:18px}
    h2{margin:0 0 10px 0;font-size:18px}
    p{color:var(--muted);line-height:1.6;margin:8px 0}
    .tips li{margin:8px 0;color:var(--ink)}
    footer{margin:28px 0 8px 0;text-align:center;color:var(--muted);font-size:12px}
    .btn{cursor:pointer;border-radius:12px;border:1px solid rgba(0,0,0,.15);background:#fff;padding:8px 12px}
    .btn:hover{background:#f1f5f9}
    input,select,textarea{font:inherit;border-radius:12px;border:1px solid rgba(0,0,0,.12);background:#fff;color:var(--ink);padding:10px 12px}
    table{width:100%;border-collapse:separate;border-spacing:0}
    th,td{padding:10px 12px;border-bottom:1px solid rgba(0,0,0,.08);text-align:left}
    th{font-size:13px;color:#334155}
    .status{font-size:12px;color:#475569;margin-top:6px}
    .badge{display:inline-flex;align-items:center;gap:6px;font-size:12px;color:#0369a1;background:#e0f2fe;border:1px solid #bae6fd;border-radius:999px;padding:2px 8px}
    @media (max-width:960px){.grid{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <h1 data-i18n="title" id="siteTitle">Dicas AI Investimentos para familia e amigos</h1>
      </div>
      <div style="display:flex;gap:8px;align-items:center">
        <button id="langToggle" class="btn" title="Switch language">üáßüá∑/üá∫üá∏ <span id="langLabel">PT</span></button>
      </div>
    </header>

    <section class="card">
      <h2 data-i18n="quick_tips">Dicas r√°pidas</h2>
      <ul class="tips">
        <li data-i18n="tip1">Defina <strong>entrada, stop e alvo</strong> antes de executar.</li>
        <li data-i18n="tip2">Use <strong>gest√£o de risco</strong> por posi√ß√£o e por carteira.</li>
        <li data-i18n="tip3">Combine <strong>fundamental + t√©cnico</strong> para decis√µes mais s√≥lidas.</li>
      </ul>
    </section>

    <div class="grid" style="margin-top:16px">
      <!-- TradingView -->
      <section class="card" style="grid-column: span 8">
        <h2 data-i18n="chart_title">Gr√°fico (TradingView)</h2>
        <div class="grid" style="grid-template-columns:repeat(12,1fr);gap:10px;margin:0 0 10px 0">
          <input id="chartSymbolInput" placeholder="Ex.: NASDAQ:NVDA ou BMFBOVESPA:PETR4" style="grid-column:span 6" />
          <button id="setChartBtn" class="btn" style="grid-column:span 2" data-i18n="set_symbol">Carregar s√≠mbolo</button>
          <button id="addFromChartBtn" class="btn" style="grid-column:span 2" data-i18n="add_from_chart">Adicionar √† lista</button>
          <a id="openTV" class="btn" style="grid-column:span 2;text-align:center" href="https://www.tradingview.com/chart/" target="_blank" rel="noopener" data-i18n="open_tv">Abrir no TradingView</a>
        </div>
        <div id="tradingview_chart" style="height:520px;width:100%"></div>
        <p class="status" id="tvStatus"></p>
      </section>

      <!-- Alertas (iframe) -->
      <section class="card" style="grid-column: span 4">
        <div style="display:flex;align-items:center;justify-content:space-between;gap:8px">
          <h2 data-i18n="alerts_title">Alertas (janela interna)</h2>
          <span class="badge">‚ö° webhook</span>
        </div>
        <iframe
          src="https://shiny-sea-44d3.rafaelnm.workers.dev/"
          id="alertsFrame"
          title="Alertas ‚Äì Cloudflare Worker"
          loading="lazy"
          referrerpolicy="no-referrer"
          style="width:100%;height:520px;border:1px solid rgba(0,0,0,.1);border-radius:12px;background:#ffffff;color:#000000;">
        </iframe>
        <details style="margin-top:8px"><summary class="status">Se a janela n√£o aparecer</summary>
          <p class="status">No Worker: remova <code>X-Frame-Options</code> e permita <code>frame-ancestors</code> no CSP (inclua seu dom√≠nio do GitHub Pages).</p>
        </details>
      </section>
    </div>

    <section class="card" style="margin-top:16px">
      <h2 data-i18n="ticker_title">Ticker de Cota√ß√µes</h2>
      <div class="tradingview-widget-container">
        <div class="tradingview-widget-container__widget"></div>
        <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js" async>
          {
            "symbols": [
              {"proName": "NASDAQ:NVDA", "title": "NVIDIA"},
              {"proName": "NASDAQ:AAPL", "title": "Apple"},
              {"proName": "NASDAQ:AMZN", "title": "Amazon"},
              {"proName": "NASDAQ:ARM",  "title": "ARM"},
              {"proName": "NASDAQ:TSLA", "title": "Tesla"},
              {"proName": "BMFBOVESPA:PETR4", "title": "Petrobras PN"},
              {"proName": "BMFBOVESPA:VALE3", "title": "Vale ON"}
            ],
            "showSymbolLogo": true,
            "isTransparent": false,
            "displayMode": "adaptive",
            "colorTheme": "light"
          }
        </script>
      </div>
    </section>

    <!-- Minhas posi√ß√µes -->
    <!-- rest of content remains unchanged -->
  </div>
</body>
</html>
